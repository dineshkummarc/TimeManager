<UserControl x:Class="TimeManagerLib.View.TasksView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d">

    <UserControl.Resources>
        <ResourceDictionary Source="MainDictionary.xaml"/>
    </UserControl.Resources>

    <DataGrid DockPanel.Dock="Top" Margin="0,3,0,0" RowHeaderWidth="0" AutoGenerateColumns="False" CanUserAddRows="False" CanUserDeleteRows="False"
                     ItemsSource="{Binding Tasks}" SelectedItem="{Binding Task}" DisplayMemberPath="Description">

        <DataGrid.InputBindings>
            <KeyBinding Key="Delete" Command="{Binding DeleteTaskCommand}"/>
        </DataGrid.InputBindings>

        <DataGrid.Columns>
          
            <DataGridTextColumn Width="90" Header="Started" 
                                        Binding="{Binding Started, Converter={StaticResource dateTimeConverter}}" />
                       
            <DataGridTextColumn Width="90" Header="Completed" 
                                        Binding="{Binding Completed, Converter={StaticResource dateTimeConverter}}" />

            <DataGridTemplateColumn Width="20">
                <DataGridTemplateColumn.CellTemplate>
                    <DataTemplate>
                        <Grid>
                            <CheckBox VerticalAlignment="Top" HorizontalAlignment="Center" IsChecked="{Binding IsCompleted, UpdateSourceTrigger=PropertyChanged}" />
                        </Grid>
                    </DataTemplate>
                </DataGridTemplateColumn.CellTemplate>
            </DataGridTemplateColumn>
            
            <DataGridTextColumn Width="40" Header="Min" Binding="{Binding WorkedMinutes}" />

            <DataGridTextColumn Width="90" Header="Project" 
                                        Binding="{Binding ProjectName}" />

            <DataGridTextColumn Width="90" Header="Category" 
                                        Binding="{Binding CategoryName}" />
            
            <DataGridTextColumn Width="*" Header="Description" Binding="{Binding Description}" />

        </DataGrid.Columns>

    </DataGrid>

</UserControl>
